<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù„Ø¥ÙŠÙ†Ø§Ø³ â€” ØµÙØ­Ø© Ø­Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ©</title>
  <style>
    /* --------------- Reset & root --------------- */
    *{box-sizing:border-box;margin:0;padding:0}
    :root{
      --bg-1:#0b0b17;
      --card-bg: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      --accent:#ff6fb5;
      --accent2:#ffd56b;
      --soft:#fff6fb;
    }
    html,body{height:100%;font-family: 'Tajawal', 'Segoe UI', Roboto, Arial, sans-serif; -webkit-font-smoothing:antialiased; background: radial-gradient(1200px 600px at 10% 10%, rgba(255,111,181,0.06), transparent 6%), radial-gradient(1000px 500px at 90% 80%, rgba(255,213,107,0.04), transparent 6%), linear-gradient(180deg,#0f1022,#071028 85%); color:#fff; overflow:hidden}

    /* ------------------ Background flowers wrapper (user flower markup integrated) ------------------ */
    .bg-flowers-wrap{position:fixed;inset:0;z-index:0;pointer-events:none;}
    .bg-overlay{position:absolute;inset:0;background:radial-gradient(circle at 20% 20%, rgba(255,111,181,0.06), transparent 8%), radial-gradient(circle at 80% 80%, rgba(35,240,255,0.02), transparent 8%);filter:blur(6px);}

    /* ------------------ Card / stages (questions) ------------------ */
    .stage-wrap{position:fixed;inset:0;z-index:6;display:flex;align-items:center;justify-content:center;padding:26px}
    .card{width:min(880px,94vw);border-radius:20px;padding:28px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));box-shadow:0 28px 80px rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.04);position:relative;backdrop-filter: blur(6px);transform-origin:center;transition:transform .9s cubic-bezier(.2,.9,.2,1),opacity .7s}
    .card.fold{transform:perspective(900px) rotateX(18deg) translateY(-30px) scale(.82);opacity:0}

    .stage{display:none;gap:14px;align-items:center;justify-content:center;flex-direction:column;text-align:center}
    .stage.active{display:flex;animation:stageIn .7s cubic-bezier(.2,.9,.2,1) both}
    @keyframes stageIn{from{opacity:0;transform:translateY(18px) scale(.99)}to{opacity:1;transform:none}}

    img.photo{width:260px;height:160px;object-fit:cover;border-radius:14px;box-shadow:0 12px 36px rgba(0,0,0,0.35);border:6px solid rgba(255,255,255,0.04)}
    .question{font-size:clamp(18px,3vmin,28px);color:#ffdce6;font-weight:700}
    .btn{margin-top:12px;padding:10px 20px;border-radius:999px;border:none;cursor:pointer;font-size:16px;background:linear-gradient(90deg,var(--accent),#ff9acb);color:#fff;box-shadow:0 12px 36px rgba(255,111,181,0.12)}
    .btn.secondary{background:linear-gradient(90deg,#7be6ff,#65e6cc);color:#033}
    .hint{font-size:13px;color:rgba(255,255,255,0.65)}

    /* hearts/emojis */
    .heart{position:fixed;font-size:20px;pointer-events:none;z-index:9999;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.4));}

    /* ---------------- final scene (full-screen flower + poem) ---------------- */
    .final-scene{position:fixed;inset:0;z-index:12;display:flex;align-items:center;justify-content:center;flex-direction:column;opacity:0;visibility:hidden;transition:opacity .8s ease,visibility .8s}
    .final-scene.show{opacity:1;visibility:visible}

    .final-bg{position:absolute;inset:0;z-index:0;overflow:hidden}
    .flower-full{position:absolute;left:50%;top:60%;transform:translate(-50%,-10%) scale(1);width:1200px;max-width:180vw;opacity:0;transition:opacity 1s ease, transform 1.1s cubic-bezier(.2,.9,.2,1)}
    .flower-full.show{opacity:1;transform:translate(-50%,-10%) scale(1.02)}

    .poem-wrap{position:relative;z-index:5;max-width:980px;padding:28px;text-align:center}
    .poem-title{font-size:clamp(28px,6vmin,56px);font-weight:900;letter-spacing:1px;margin-bottom:10px}
    .poem-text{font-size:clamp(18px,2.6vmin,28px);line-height:1.9;white-space:pre-line}

    /* shiny text effect */
    .shimmer{
      background: linear-gradient(90deg,#ffffff 0%, #fff9c4 20%, #ffdff2 50%, #fff9c4 80%, #fff 100%);
      -webkit-background-clip: text; background-clip:text; color:transparent;
      background-size:200% 100%; animation:shimmerAnim 3s linear infinite;
      text-shadow:0 6px 26px rgba(255,111,181,0.12);
    }
    @keyframes shimmerAnim{0%{background-position:200% 0}100%{background-position:-200% 0}}

    /* poem reveal lines stagger */
    .poem-line{opacity:0;transform:translateY(18px);transition:opacity .8s cubic-bezier(.2,.9,.2,1), transform .8s cubic-bezier(.2,.9,.2,1)}
    .poem-line.show{opacity:1;transform:none}

    /* small responsive tweaks */
    @media (max-width:720px){img.photo{width:180px;height:120px} .poem-title{font-size:clamp(22px,8vw,36px)} .poem-text{font-size:16px}}

    /* ------------------ Flower CSS (integrated from your provided code) ------------------ */
    /* NOTE: this block keeps your original flower classes and animations (trimmed/organized) */
    .flowers{position:relative;transform:scale(0.7);width:100%;height:100%}
    .flower{position:absolute;bottom:10vmin;transform-origin:bottom center;z-index:10;--fl-speed:.8s}
    .flower--1{left:20%;animation:moving-flower-1 6s linear infinite}
    .flower--2{left:50%;transform:rotate(30deg);animation:moving-flower-2 6s linear infinite}
    .flower--3{left:78%;transform:rotate(-15deg);animation:moving-flower-3 6s linear infinite}

    .flower__leafs{position:relative;animation:blooming-flower 2s backwards}
    .flower__leaf{position:absolute;bottom:0;left:50%;width:8vmin;height:11vmin;border-radius:51% 49% 47% 53%/44% 45% 55% 69%;background-image:linear-gradient(to top,#40bbab,#a7ffee);transform-origin:bottom center;opacity:.95;box-shadow:inset 0 0 2vmin rgba(255,255,255,0.5)}
    .flower__leaf--1{transform:translate(-10%,1%) rotateY(40deg) rotateX(-50deg)}
    .flower__leaf--2{transform:translate(-50%,-4%) rotateX(40deg)}
    .flower__leaf--3{transform:translate(-90%,0%) rotateY(45deg) rotateX(50deg)}
    .flower__leaf--4{width:8vmin;height:8vmin;transform-origin:bottom left;border-radius:4vmin 10vmin 4vmin 4vmin;transform:translate(0%,18%) rotateX(70deg) rotate(-43deg);background-image:linear-gradient(to top,#39c6d6,#a7ffee);z-index:1;opacity:0.8}

    .flower__white-circle{position:absolute;left:-3.5vmin;top:-3vmin;width:9vmin;height:4vmin;border-radius:50%;background:#fff}
    .flower__white-circle::after{content:"";position:absolute;left:50%;top:45%;transform:translate(-50%,-50%);width:60%;height:60%;border-radius:inherit;background-image:repeating-linear-gradient(135deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), linear-gradient(90deg,#ffeb12,#ffce00)}

    .flower__line{height:55vmin;width:1.5vmin;background-image:linear-gradient(to left, rgba(0,0,0,0.2), transparent, rgba(255,255,255,0.2)), linear-gradient(to top, transparent 10%, #14757a, #39c6d6);box-shadow:inset 0 0 2px rgba(0,0,0,0.5);animation:grow-flower-tree 4s backwards}
    .flower__line__leaf{--w:7vmin;--h:calc(var(--w) + 2vmin);position:absolute;top:20%;left:90%;width:var(--w);height:var(--h);border-top-right-radius:var(--h);border-bottom-left-radius:var(--h);background-image:linear-gradient(to top, rgba(20,117,122,0.4), #39c6d6)}

    .flower__light{position:absolute;bottom:0;width:1vmin;height:1vmin;background:#fffb00;border-radius:50%;filter:blur(.2vmin);animation:light-ans 4s linear infinite backwards}
    .flower__light:nth-child(odd){background:#23f0ff}

    /* some simple keyframes for petals/lights movement */
    @keyframes light-ans{0%{transform:translateY(0)}50%{transform:translateY(-6vmin)}100%{transform:translateY(0)}}
    @keyframes blooming-flower{0%{transform:scale(.6) translateY(10px);opacity:0}100%{transform:none;opacity:1}}
    @keyframes grow-flower-tree{0%{height:0}100%{height:55vmin}}

    /* small glow overlay for final scene */
    .final-glow{position:absolute;inset:0;background:radial-gradient(circle at 50% 40%, rgba(255,182,193,0.06), transparent 10%), radial-gradient(circle at 20% 70%, rgba(35,240,255,0.03), transparent 8%);mix-blend-mode:screen;z-index:1;pointer-events:none}

  </style>
</head>
<body>

  <!-- background flowers (kept intact) -->
  <div class="bg-flowers-wrap" aria-hidden="true">
    <div class="bg-overlay"></div>
    <div class="flowers" aria-hidden="true">
      <!-- flower markup (kept from your original code) -->
      <div class="flower flower--1">
        <div class="flower__leafs flower__leafs--1">
          <div class="flower__leaf flower__leaf--1"></div>
          <div class="flower__leaf flower__leaf--2"></div>
          <div class="flower__leaf flower__leaf--3"></div>
          <div class="flower__leaf flower__leaf--4"></div>
          <div class="flower__white-circle"></div>
          <div class="flower__light flower__light--1"></div>
          <div class="flower__light flower__light--2"></div>
          <div class="flower__light flower__light--3"></div>
          <div class="flower__light flower__light--4"></div>
          <div class="flower__light flower__light--5"></div>
          <div class="flower__light flower__light--6"></div>
          <div class="flower__light flower__light--7"></div>
          <div class="flower__light flower__light--8"></div>
        </div>
        <div class="flower__line">
          <div class="flower__line__leaf flower__line__leaf--1"></div>
          <div class="flower__line__leaf flower__line__leaf--2"></div>
          <div class="flower__line__leaf flower__line__leaf--3"></div>
          <div class="flower__line__leaf flower__line__leaf--4"></div>
          <div class="flower__line__leaf flower__line__leaf--5"></div>
          <div class="flower__line__leaf flower__line__leaf--6"></div>
        </div>
      </div>

      <div class="flower flower--2">
        <div class="flower__leafs flower__leafs--2">
          <div class="flower__leaf flower__leaf--1"></div>
          <div class="flower__leaf flower__leaf--2"></div>
          <div class="flower__leaf flower__leaf--3"></div>
          <div class="flower__leaf flower__leaf--4"></div>
          <div class="flower__white-circle"></div>
          <div class="flower__light flower__light--1"></div>
          <div class="flower__light flower__light--2"></div>
          <div class="flower__light flower__light--3"></div>
          <div class="flower__light flower__light--4"></div>
          <div class="flower__light flower__light--5"></div>
          <div class="flower__light flower__light--6"></div>
          <div class="flower__light flower__light--7"></div>
          <div class="flower__light flower__light--8"></div>
        </div>
        <div class="flower__line">
          <div class="flower__line__leaf flower__line__leaf--1"></div>
          <div class="flower__line__leaf flower__line__leaf--2"></div>
          <div class="flower__line__leaf flower__line__leaf--3"></div>
          <div class="flower__line__leaf flower__line__leaf--4"></div>
        </div>
      </div>

      <div class="flower flower--3">
        <div class="flower__leafs flower__leafs--3">
          <div class="flower__leaf flower__leaf--1"></div>
          <div class="flower__leaf flower__leaf--2"></div>
          <div class="flower__leaf flower__leaf--3"></div>
          <div class="flower__leaf flower__leaf--4"></div>
          <div class="flower__white-circle"></div>
          <div class="flower__light flower__light--1"></div>
          <div class="flower__light flower__light--2"></div>
          <div class="flower__light flower__light--3"></div>
          <div class="flower__light flower__light--4"></div>
          <div class="flower__light flower__light--5"></div>
          <div class="flower__light flower__light--6"></div>
          <div class="flower__light flower__light--7"></div>
          <div class="flower__light flower__light--8"></div>
        </div>
        <div class="flower__line">
          <div class="flower__line__leaf flower__line__leaf--1"></div>
          <div class="flower__line__leaf flower__line__leaf--2"></div>
          <div class="flower__line__leaf flower__line__leaf--3"></div>
          <div class="flower__line__leaf flower__line__leaf--4"></div>
        </div>
      </div>

      <!-- extra decorative parts (kept minimal here) -->
    </div>
  </div>

  <!-- STAGE / QUESTION CARD -->
  <div class="stage-wrap" role="region" aria-label="Ø³Ù„Ø³Ù„Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©">
    <div class="card" id="card" role="dialog" aria-modal="false">
      <div id="stages">

        <section class="stage active" data-stage="1">
          <img class="photo" src="uruma1.jpg" alt="ØµÙˆØ±Ø© 1 â€” Ø§Ø³ØªØ¨Ø¯Ù„ÙŠÙ‡Ø§ Ø¨ÙˆØ§Ø­Ø¯Ø© Ù…Ù†Ùƒ">
          <div class="question">Ù‡Ù„ Ø£Ù†ØªÙ Ø¥ÙŠÙ†Ø§Ø³ØŸ</div>
          <button class="btn" id="startBtn">Ù†Ø¹Ù… Ø¥ÙŠÙ†Ø§Ø³ âœ¨</button>
          <div class="hint">Ø§Ø¶ØºØ·ÙŠ ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù† Ø£ÙŠØ¶Ø§Ù‹ Ù„ØªÙ†Ø¨Ø¹Ø« Ù‚Ù„ÙˆØ¨ ğŸ’—</div>
        </section>

        <section class="stage" data-stage="2">
          <img class="photo" src="uruma2.jpg" alt="ØµÙˆØ±Ø© 2">
          <div class="question">Ø£Ù‡Ù„Ø§ Ø§Ù†ÙˆØ³ØªÙŠ</div>
          <button class="btn secondary nextBtn" data-next="3">Ø£Ù‡Ù„Ø§ Ùˆ Ø³Ù‡Ù„Ø§</button>
        </section>

        <section class="stage" data-stage="3">
          <img class="photo" src="uruma3.jpg" alt="ØµÙˆØ±Ø© 3">
          <div class="question">ÙƒÙŠÙÙƒ Ø¹ÙŠÙˆÙ†ÙŠØŸ ğŸ’—</div>
          <button class="btn secondary nextBtn" data-next="4">Ø¨Ø®ÙŠØ±</button>
        </section>

        <section class="stage" data-stage="4">
          <img class="photo" src="uruma4.jpg" alt="ØµÙˆØ±Ø© 4">
          <div class="question">Ø£Ù‚Ù„Ùƒ Ø¹Ù†Ø¯ÙŠ Ø§Ù„Ùƒ Ø³Ø¤Ø§Ù„ ğŸ™ˆ</div>
          <button class="btn secondary nextBtn" data-next="5">Ù†Ø¹Ù… ÙˆØ´ Ù‡ÙˆØŸ ğŸ¥²</button>
        </section>

        <section class="stage" data-stage="5">
          <img class="photo" src="ururma.jpg" alt="ØµÙˆØ±Ø© 5">
          <div class="question">ØªØ­Ø¨ÙŠ ÙÙˆØªÙˆØŸ ğŸ™ˆ</div>
          <button class="btn secondary nextBtn" data-next="6">Ù‡Ø§Ø§Ø§Ø§ØŸ</button>
        </section>

        <section class="stage" data-stage="6">
          <img class="photo" src="uruma6.jpg" alt="ØµÙˆØ±Ø© Ù†Ù‡Ø§Ø¦ÙŠØ©">
          <div class="question">Ù„Ùƒ ÙŠØ§ Ù…ØªØ±Ù…Ù‘Ø©ØŒ Ø§Ù‚Ù„Ùƒ Ø§Ø°Ø§ ØªØ­Ø¨ÙŠÙ†ÙŠØŸ</div>
          <button class="btn" id="finalBtn">ÙŠØ¨ ÙŠØ¨ Ø£Ø­Ø¨Ùƒ ğŸ¥²</button>
        </section>

      </div>
    </div>
  </div>

  <!-- FINAL FULLSCREEN SCENE (flowers + poem) -->
  <div class="final-scene" id="finalScene" aria-hidden="true">
    <div class="final-bg">
      <!-- we reuse the .flowers markup and show it larger in the final scene -->
      <div class="flower-full" id="flowerFull" aria-hidden="true">
        <!-- duplicate of main flower markup (kept simple) -->
        <div class="flowers">
          <div class="flower flower--1">
            <div class="flower__leafs flower__leafs--1">
              <div class="flower__leaf flower__leaf--1"></div>
              <div class="flower__leaf flower__leaf--2"></div>
              <div class="flower__leaf flower__leaf--3"></div>
              <div class="flower__leaf flower__leaf--4"></div>
              <div class="flower__white-circle"></div>
              <div class="flower__light flower__light--1"></div>
              <div class="flower__light flower__light--2"></div>
              <div class="flower__light flower__light--3"></div>
              <div class="flower__light flower__light--4"></div>
              <div class="flower__light flower__light--5"></div>
              <div class="flower__light flower__light--6"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="final-glow"></div>
    </div>

    <div class="poem-wrap">
      <div class="poem-title shimmer" id="poemTitle">ÙˆÙ…Ù† Ø­Ù„Ø§Ù‡Ø§ Ù…Ø§ ØªÙˆØµÙÙ‡Ø§ Ø§Ù„Ø­Ø±ÙˆÙ</div>
      <div class="poem-text" id="poemText">
        <div class="poem-line">Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠØ© ÙƒÙŠÙ ØªÙˆØµÙ ÙˆØ±Ø¯Ø© ÙŠØ¨Ø±ÙŠ Ù…Ù†</div>
        <div class="poem-line">Ø§Ù„Ø¹Ù„Ø© Ø´Ø°Ø§Ù‡Ø§</div>
        <div class="poem-line">Ø§Ù„ÙˆØ±ÙˆØ¯ ØªØºØ§Ø± Ù…Ù†Ù‡Ø§ Ù…Ø²Ù‡Ø±ÙŠØ© Ù…Ø²Ù‡Ø±ÙŠØ©</div>
        <div class="poem-line">ÙˆØ¥Ù† ØªØ¨Ø§Ù‡Øª Ø¹Ø°Ø±Ù‡Ø§ Ù…Ø¹Ù‡Ø§ ÙŠØ­Ù‚ Ù„Ù‡Ø§ ØªØ¨Ù‡Ø§</div>
        <div class="poem-line">Ù…Ø§ ÙŠØ´Ø§Ø¨Ù‡Ù‡Ø§ Ø´Ø¨ÙŠÙ‡ ÙˆÙ„Ø§ ÙŠØ­Ø§Ù„ÙŠÙ‡Ø§ Ø­Ù„ÙŠØ©</div>
        <div class="poem-line">Ø¬Ù„ Ø±Ø¨ ÙŠÙˆÙ… ØµÙˆØ±Ù‡Ø§ ÙØ±Ù‚Ù‡Ø§ Ø¹Ù† Ø³ÙˆØ§Ù‡Ø§</div>
      </div>
    </div>
  </div>

<script>
  // -------------------- Utilities: hearts/emojis --------------------
  function createFloatingEmoji(x,y,emoji){
    const el = document.createElement('div'); el.className='heart'; el.innerText = emoji;
    document.body.appendChild(el);
    el.style.left = (x - 12) + 'px'; el.style.top = (y - 12) + 'px';
    const dx = (Math.random()*140-70);
    const dur = 1100 + Math.random()*900;
    el.animate([
      { transform: 'translateY(0) scale(1)', opacity:1 },
      { transform: `translateY(-180px) translateX(${dx}px) scale(.6)`, opacity:0 }
    ], { duration: dur, easing: 'cubic-bezier(.2,.9,.2,1)' }).onfinish = ()=> el.remove();
  }

  function burstHeartsAt(x,y,count=10){
    const emojis = ['ğŸ’—','ğŸ’–','ğŸ’•','ğŸŒ¸','ğŸŒº'];
    for(let i=0;i<count;i++){
      setTimeout(()=> createFloatingEmoji(x + (Math.random()*80-40), y + (Math.random()*60-30), emojis[Math.floor(Math.random()*emojis.length)]), i*50);
    }
  }

  document.addEventListener('click', (e)=>{
    // don't spawn when clicking hidden elements (safety) but spawn for general clicks
    burstHeartsAt(e.clientX, e.clientY, 6);
  });

  // -------------------- Stage management --------------------
  const stages = Array.from(document.querySelectorAll('.stage'));
  let current = 0;
  function showStage(n){
    stages.forEach((s, i)=> s.classList.toggle('active', i===n));
    current = n;
  }

  // next button handlers
  document.getElementById('startBtn').addEventListener('click', (e)=>{ burstHeartsAt(window.innerWidth/2, window.innerHeight/2, 18); showStage(1); });
  document.querySelectorAll('.nextBtn').forEach(b=> b.addEventListener('click', (e)=>{ const next = Number(e.currentTarget.dataset.next); burstHeartsAt(e.clientX, e.clientY, 12); showStage(next-1); }));

  // final reveal: fold card, reveal full-screen flowers and show poem lines with shimmer
  document.getElementById('finalBtn').addEventListener('click', (e)=>{
    burstHeartsAt(e.clientX, e.clientY, 30);
    const card = document.getElementById('card');
    const finalScene = document.getElementById('finalScene');
    const flowerFull = document.getElementById('flowerFull');
    // fold animation
    card.classList.add('fold');
    setTimeout(()=>{ // after fold animation, hide card and show final scene
      const stageWrap = document.querySelector('.stage-wrap');
      if(stageWrap) stageWrap.style.display = 'none';
      finalScene.classList.add('show');
      flowerFull.classList.add('show');
      // stagger poem lines
      const lines = Array.from(document.querySelectorAll('.poem-line'));
      lines.forEach((ln,i)=> setTimeout(()=> ln.classList.add('show'), 600 + i*420));
      // subtle extra bursts
      setTimeout(()=> burstHeartsAt(window.innerWidth/2, window.innerHeight/2, 40), 900);
    }, 700);
  });

  // keyboard support: space/enter
  document.addEventListener('keydown', (e)=>{
    if(e.key === ' ' || e.key === 'Enter'){
      e.preventDefault();
      const visible = stages.findIndex(s => s.classList.contains('active'));
      if(visible < stages.length - 1){
        // simulate clicking next button
        const nextBtn = document.querySelector('.stage.active .nextBtn, .stage.active #finalBtn');
        if(nextBtn) nextBtn.click();
      } else {
        const finalBtn = document.getElementById('finalBtn'); if(finalBtn) finalBtn.click();
      }
    }
  });

  // small float animation for flower groups present on page
  ['flower--1','flower--2','flower--3'].forEach(cls=>{
    const el = document.querySelector('.' + cls);
    if(el) el.style.animation = 'floaty 6s ease-in-out infinite';
  });

  // prevent flower markup from capturing pointer events
  document.querySelectorAll('.flowers').forEach(f=> f.style.pointerEvents = 'none');

  // accessibility: ensure initial focus on start button
  window.addEventListener('load', ()=>{ const btn = document.getElementById('startBtn'); if(btn) btn.focus(); });
</script>

</body>
</html>
